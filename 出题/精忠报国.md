<!--
 * @Author: error: git config user.name & please set dead value or install git
 * @Date: 2023-11-08 18:44:39
 * @LastEditors: error: git config user.name & please set dead value or install git
 * @LastEditTime: 2023-11-09 20:20:20
 * @FilePath: \TEST\出题\精忠报国.md
 * Forgive me.
 * Copyright (c) 2023 by CheemsaDoge, All Rights Reserved. 
-->
# 精忠报国 (sbtarzan)

难度为 `普及-`，没 94pts 的反思一下

#### 请仔细阅读**数据规模**与输出格式！ 

## 题目背景

谁都没有想到，谁都没有想到，被我们寄予厚望的 LNG 最终倒在了 T1 手上。

李汭燦姓李，李承勇姓李，李相赫也姓李，秉着爱屋及乌的原则，T1 决定给二位一个精忠报国的机会。

而 付明航 和 大飞老师 中文名最后一个字的首字母都是 `H`，英文id第二位都是 `a`，本着大爱无疆的原则，T1 决定也给 `Hang` 一个机会。

### **忠！诚！**

## 题目描述

已知 李汭燦 id是 `Scout`，李承勇 id是 `Tarzan`，翰贱 id是 `Hang`。

现在飞大叔给出了 $n$ 个报国点，每个报国点有一个价值 $w_i$，需要选手进行一系列报国操作后获得（例如剑魔三段Q时使用机器人将它拉到AD身上，又比如中单挨打时等待技能Cd中单残血后闪现去送，等等报国操作）。作为韩国人的 李承勇 与 李汭燦 可以直接拥有抢夺报国点的资格，而作为翰贱的 `Hang` 需要缴纳 $b_i$ 的保证金才能参与抢夺，并且抢夺的成功率只有 $s_i\%$，每个报国点间成功率互不影响。

李姓选手们可以光明正大报国，但翰贱报国不能太明显，所以翰贱需要进行一定取舍，例如 `Tarzan` 刚在野区被残血波比丹砂后可以继续抢夺不管队友强上抽象空技能然后被杀的报国点，但 `Hang` 机器人拉三段Q的剑魔后就不能再抢其它某些报国点了。

具体得，对翰贱来说，报国点之间的关系是一棵树，抢夺了报国点 $k$ 后，则无法抢夺与 $k$ 相连的报国点。

众所周知，翰贱很蠢，所以 `Hang` 来找你帮忙，求出最终获得价值的最大期望大小。

## 题目翻译

기대를 모았던 LNG가 결국 T1에 떨어졌습니다.
이봉찬 선수의 성이 이씨, 이승영 선수의 성이 이씨, 이상혁 선수의 성 역시 이씨인 만큼 T1은 이들에게 사랑의 이름으로 조국을 위해 봉사할 기회를 주기로 결정했습니다.
푸밍항과 다페이는 모두 한자 이름에 'H'가 있고 영문 아이디에 'a'가 들어가기 때문에 T1은 사랑의 정신으로 항 선수에게도 기회를 주기로 결정했습니다.

리 汭燦 아이디는 $스카우트$, 리 承勇 아이디는 $타잔$, 한 암캐 아이디는 $항$으로 알려져 있습니다.
이제 페이 아저씨는 $n$ 포인트를 주었고, 각 포인트의 가치는 $w_i$이며, 플레이어는 포인트를 얻기 위해 일련의 국가 행동을 수행해야 합니다(예: 검귀가 Q를 세 번 찍을 때 봇을 사용하여 AD로 끌어당기기, 미드 라이너가 맞고 있을 때 스킬을 기다렸다가 미드 라이너가 피를 흘린 후 번쩍이며 딜을 넣기 등). 한국 선수인 이승용과 이벵찬은 직접 포인트를 획득할 수 있지만, 한족인 항은 $b_i$의 보증금을 지불해야만 포획에 참여할 수 있으며, 포획 성공률은 $s_i$에 불과하며, 각 포인트의 성공률은 서로 영향을 미치지 않습니다.
예를 들어, 타잔은 팀원의 추상화 스킬에 관계없이 자신이 사망한 지점을 계속 약탈할 수 있지만, 항은 소드 데몬에게 로봇으로 트리플 Q를 뽑은 후에는 다른 특정 지점을 약탈할 수 없습니다.
특히, 한의 경우 업보 포인트 간의 관계는 트리 구조로 되어 있어 업보 포인트 $k$를 획득한 후에는 $k$와 연결된 업보 포인트를 획득할 수 없습니다.

## 输入格式

输入的第一行是一个整数 $n$，表示报国点的数目。

接下来 $n$ 行，每行有三个数，分别代表 $w_i$,$b_i$,$s_i$。

接下来 $n-1$ 行，每行有两个数 $u$,$v$，代表 $u$,$v$ 之间存在一条边。

## 输出格式

输出有三行。

第一行为 `Hang` 最终获得价值的最大期望大小，保留两位小数。

第二行为 `Hang` 获得价值的实际大小（输出0即可）。

第三行请你输出一句恭喜 `Hang` 的话 `플레이어 행의 락 가입을 축하합니다.`，但 `Hang` 看不懂韩文，所以请你输出 `Congratulations to player Hang for joining LCK!` 

## 输入输出样例

#### 输入1
```text
5
1 0 100
3 100 0
2 0 50
4 -1 100
5 -1 100
1 2
1 3
2 4
2 5
```
#### 输出1
```text
12.00
0
Congratulations to player Hang for joining LCK!
```
## 形式化题意

有五个人在玩三国杀，有一位主公，一位忠臣，一个反贼以及两个内奸。

给出一棵树，有 $n$ 个节点，每个节点有一个价值 $w$，一个概率 $s$，以及一个投入金 $b$，代表花费 $b$ 后有 $s\text{\%}$ 的概率获得 $w$。

其中选择了 $k$ 则不能选择与 $k$ 相连的节点。

请你计算最大的获得价值期望。

## 说明/提示

### 数据规模与约定

对于全部的数据规模，保证：
- $n,w,b,s,u,v$ 都为不超过 $2^{31}-1$ 的整数
- $1\le n\le 5\times 10^5$
- $-114514\le w,b\le 114514$
- $0\le s$
- $1\le u,v\le n$
- 其中已知 `Hang` 获得的实际大小为 `0`。

对于其中 6% 的数据，不保证数据合理。